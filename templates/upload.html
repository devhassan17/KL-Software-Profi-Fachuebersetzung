{% extends "base.html" %}
{% block content %}
<div class="card-title">
  Upload &amp; Fachübersetzung
</div>
<p class="section-description">
  Laden Sie Ihre TXT, DOCX oder PDF Dateien hoch – oder fügen Sie Text direkt ein.
  Wählen Sie Fachgebiet, Tonalität und optional ein Glossar. Die KI-Übersetzung wird
  mit Terminologiekonsistenz verarbeitet.
</p>

<form method="post" enctype="multipart/form-data" class="translate-form">
  <div class="row">
    <div class="col">
      <label>Ihre E-Mail (für Rückmeldung)</label>
      <input type="email" name="client_email" placeholder="kundin@example.com" />
    </div>
    <div class="col">
      <label>Deadline</label>
      <input type="date" name="deadline" />
    </div>
  </div>

  <div class="row" style="margin-top:1rem;">
    <div class="col">
      <label>Ausgangssprache</label>
      <select name="source_lang">
        <option value="">Auto-Erkennung</option>
        <option value="DE">Deutsch (DE)</option>
        <option value="EN">Englisch (EN)</option>
      </select>
    </div>
    <div class="col">
      <label>Zielsprache</label>
      <select name="target_lang" required>
        <option value="EN">Englisch (EN)</option>
        <option value="DE">Deutsch (DE)</option>
      </select>
    </div>
    <div class="col">
      <label>Fachgebiet</label>
      <select name="domain">
        <option value="general">Allgemein</option>
        <option value="legal">Recht / Verträge</option>
        <option value="medical">Medizin</option>
        <option value="technical">Technik / IT</option>
      </select>
    </div>
    <div class="col">
      <label>Tonalität</label>
      <select name="tone">
        <option value="neutral">Neutral</option>
        <option value="formal">Formell</option>
        <option value="friendly">Freundlich</option>
      </select>
    </div>
  </div>

  <div style="margin-top:1rem;">
    <label>Chatbot-Intent (optional, Vorbelegung)</label>
    <input type="text" name="intent" value="{{ intent or '' }}"
           placeholder="z. B. Bedienungsanleitung DE → EN übersetzen" />
  </div>

  <div style="margin-top:1rem;">
    <label>Text einfügen (Textfeld-Modus)</label>
    <textarea name="pasted_text" placeholder="Fügen Sie hier Ihren Text ein, der übersetzt werden soll …"></textarea>
  </div>

  <div style="margin-top:1rem;">
    <label>Dateien hochladen (TXT, DOCX, PDF)</label>
    <input
      type="file"
      name="files"
      multiple
      accept=".txt,.pdf,.docx,application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain"
    />
  </div>

  <div style="margin-top:1rem;">
    <label>Glossar / Terminologie (eine Zeile pro Begriff, Format: Quelle =&gt; Ziel)</label>
    <textarea name="glossary" placeholder="invoice =&gt; Rechnung&#10;contract =&gt; Vertrag"></textarea>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary">Unverbindliche Anfrage starten</button>
    <span class="form-note">
      KI-Übersetzung mit optionalem Post-Editing – Preis &amp; Wortanzahl werden automatisch berechnet.
    </span>
  </div>
</form>
{% endblock %}
